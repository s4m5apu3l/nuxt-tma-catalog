# Обновление системы цен

## Изменения

### База данных (Appwrite)
- Удалены старые поля `price` (double) и `priceUnit` (string) из таблицы `products`
- Используется существующее поле `pricing` (longtext) для хранения JSON с массивом цен
- Каждая цена теперь содержит: `period`, `price`, `currency`

### Типы (TypeScript)
```typescript
// добавил string уместно ли?
export type Currency = '₽' | '$' | '€' | '฿' | '¥' | string

export interface PricingOption {
  period: PricePeriod
  price: number
  currency: Currency  // Новое поле
}
```

### Компоненты

#### ProductForm.vue (Админка)
- Добавлено поле выбора валюты
- Поддерживаемые валюты: ₽ (RUB), $ (USD), € (EUR), ฿ (THB), ¥ (CNY/JPY)
- Форма теперь имеет 3 поля: цена, валюта, единица времени

#### Каталог
- `ProductCard.vue` - отображает цену с валютой
- `ContactButton.vue` - использует новый формат цены в сообщениях
- Страница продукта - показывает все цены с валютами

### Утилиты

#### pricing.ts
```typescript
// Форматирует первую цену из массива
formatPricing(pricing, locale) // "3500 ₽/месяц"

// Форматирует все цены
formatPricingFull(pricing, locale) // ["500 ₽/час", "2500 ₽/день"]
```

### Миграция данных
Все существующие продукты обновлены:
- Добавлено поле `currency: "₽"` ко всем ценам
- Данные сохранены без потерь

## Использование

### Создание продукта
Админ выбирает:
1. Цену (число)
2. Валюту (₽, $, €, ฿, ¥)
3. Единицу времени (час/день/неделя/месяц)

### Отображение
- В каталоге: "3500 ₽/месяц"
- В админке: "3500 ₽/месяц"
- В сообщениях Telegram: "3500 ₽/месяц"

## Преимущества
- Гибкость: можно легко менять валюту для каждого продукта
- Масштабируемость: легко добавить новые валюты
- Консистентность: единый формат хранения и отображения
