import{e as F,f as I,U as N,r as C,g as M,l as E,c as h,o as u,a as t,b as n,t as i,h as e,w as r,d as f,m as H,H as U,i as x,F as V,n as B,j as O,C as Q,B as R}from"./C8ul8efc.js";import{_ as q}from"./B3nbaWlz.js";import{_ as G}from"./BfL9uDMd.js";import{_ as J}from"./ch2ptKRx.js";import{_ as K}from"./DavA84wr.js";import{_ as W}from"./B_OABk7s.js";import{f as X}from"./B5j1Kw8o.js";import{u as Y}from"./C49_eC0f.js";import"./C_7UBFbS.js";import"./VQnKE3Ig.js";import"./DwI3gNqv.js";import"./Cu70dmV1.js";import"./CDWPDTH1.js";import"./zPDFSdVu.js";const Z={class:"space-y-4"},ee={class:"flex items-center justify-between"},te={class:"text-xl font-bold text-gray-900 dark:text-white"},se={class:"flex flex-col space-y-2"},oe={class:"space-y-2"},ae={class:"flex items-center space-x-3"},ne={class:"flex-1 space-y-2"},ie={class:"text-center py-6"},ce={class:"text-red-500 text-sm mb-3"},re={class:"text-center py-8"},le={class:"text-base font-medium text-gray-900 dark:text-white mb-1"},de={class:"text-sm text-gray-500 dark:text-gray-400 mb-4"},me={class:"flex items-center space-x-3"},ue={class:"w-16 h-16 bg-muted rounded-lg flex items-center justify-center shrink-0"},_e={class:"flex-1 min-w-0"},fe={class:"flex items-center space-x-2"},pe={class:"font-medium text-foreground truncate"},ve={class:"text-sm text-muted-foreground"},he={class:"text-xs text-muted-foreground"},Te=F({__name:"index",setup(xe){const{t:o,locale:p}=I(),{products:g,loading:L,error:y,fetchProducts:w,deleteProduct:P}=Y(),z=N(),l=C(""),m=C("all"),k=M(()=>g.value?g.value.filter(a=>{const c=l.value?a.name.en.toLowerCase().includes(l.value.toLowerCase())||a.name.ru.toLowerCase().includes(l.value.toLowerCase())||a.slug.toLowerCase().includes(l.value.toLowerCase()):!0,d=m.value==="all"||m.value==="active"&&a.isActive||m.value==="inactive"&&!a.isActive;return c&&d}):[]),S=[{label:o("common.view_all"),value:"all"},{label:o("admin.dashboard.active"),value:"active"},{label:o("admin.dashboard.inactive"),value:"inactive"}],T=async a=>{const c=p.value;confirm(`${o("admin.products.confirmDelete")}

${a.name[c]||a.name.en}`)&&await P(a.$id)&&z.add({title:o("admin.products.deleted"),color:"success"})};return E(()=>{w()}),(a,c)=>{const d=H,b=q,A=G,v=J,_=K,$=O,j=W;return u(),h("div",Z,[t("div",ee,[t("h1",te,i(e(o)("admin.products.title")),1),n(d,{to:"/admin/products/create",icon:"i-heroicons-plus",color:"primary",size:"sm"},{default:r(()=>[f(i(e(o)("admin.products.add")),1)]),_:1})]),t("div",se,[n(b,{modelValue:e(l),"onUpdate:modelValue":c[0]||(c[0]=s=>U(l)?l.value=s:null),icon:"i-heroicons-magnifying-glass",placeholder:e(o)("common.search")},null,8,["modelValue","placeholder"]),n(A,{modelValue:e(m),"onUpdate:modelValue":c[1]||(c[1]=s=>U(m)?m.value=s:null),items:S},null,8,["modelValue"])]),t("div",oe,[e(L)?(u(),h(V,{key:0},B(3,s=>n(_,{key:s},{default:r(()=>[t("div",ae,[n(v,{class:"w-16 h-16 rounded"}),t("div",ne,[n(v,{class:"h-4 w-3/4"}),n(v,{class:"h-3 w-1/2"})])])]),_:1})),64)):e(y)?(u(),x(_,{key:1},{default:r(()=>[t("div",ie,[t("p",ce,i(e(y)),1),n(d,{size:"sm",onClick:c[2]||(c[2]=s=>e(w)())},{default:r(()=>[f(i(e(o)("common.retry")),1)]),_:1})])]),_:1})):e(k).length?(u(!0),h(V,{key:3},B(e(k),s=>(u(),x(_,{key:s.$id,class:"cursor-pointer active:scale-[0.98] transition-transform",onClick:D=>("navigateTo"in a?a.navigateTo:e(R))(`/admin/products/${s.$id}`)},{default:r(()=>[t("div",me,[t("div",ue,[n($,{name:"i-lucide-package",class:"w-6 h-6 text-muted-foreground"})]),t("div",_e,[t("div",fe,[t("p",pe,i(s.name[e(p)]||s.name.en),1),n(j,{color:s.isActive?"success":"error",variant:"soft",size:"xs"},{default:r(()=>[f(i(s.isActive?e(o)("admin.dashboard.active"):e(o)("admin.dashboard.inactive")),1)]),_:2},1032,["color"])]),t("p",ve,i(("formatPricing"in a?a.formatPricing:e(X))(s.pricing,e(p))),1),t("code",he,i(s.slug),1)]),n(d,{icon:"i-heroicons-trash",size:"xs",color:"error",variant:"ghost",onClick:Q(D=>T(s),["stop"])},null,8,["onClick"])])]),_:2},1032,["onClick"]))),128)):(u(),x(_,{key:2},{default:r(()=>[t("div",re,[n($,{name:"i-heroicons-cube",class:"mx-auto h-10 w-10 text-gray-400 mb-3"}),t("h3",le,i(e(o)("admin.products.empty.title")),1),t("p",de,i(e(o)("admin.products.empty.description")),1),n(d,{to:"/admin/products/create",color:"primary",size:"sm"},{default:r(()=>[f(i(e(o)("admin.products.add")),1)]),_:1})])]),_:1}))])])}}});export{Te as default};
