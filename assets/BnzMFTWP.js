import{e as F,f as I,Q as N,r as C,g as M,l as Q,c as v,o as _,a as e,b as a,t as i,h as t,w as l,d as f,m as E,D as y,i as h,F as b,n as $,j as O,C as R,B as W}from"./V5lyJHf0.js";import{_ as q}from"./B6CrvpT0.js";import{_ as G}from"./BwyOfMx_.js";import{_ as H}from"./DmU0iaOp.js";import{_ as J}from"./Cy3FbJb-.js";import{_ as K}from"./0JvgTizf.js";import{u as P}from"./DapeseBQ.js";import"./CpIC217t.js";import"./A5Q7EiMc.js";import"./DO47sb7Q.js";import"./NisCQXh8.js";import"./DKPM1GVg.js";import"./CTjVvGkp.js";const X={class:"space-y-4"},Y={class:"flex items-center justify-between"},Z={class:"text-xl font-bold text-gray-900 dark:text-white"},ee={class:"flex flex-col space-y-2"},te={class:"space-y-2"},se={class:"flex items-center space-x-3"},oe={class:"flex-1 space-y-2"},ae={class:"text-center py-6"},ie={class:"text-red-500 text-sm mb-3"},ne={class:"text-center py-8"},ce={class:"text-base font-medium text-gray-900 dark:text-white mb-1"},le={class:"text-sm text-gray-500 dark:text-gray-400 mb-4"},re={class:"flex items-center justify-between"},de={class:"flex items-center space-x-3 flex-1 min-w-0"},me={class:"text-2xl shrink-0"},_e={class:"flex-1 min-w-0"},ue={class:"flex items-center space-x-2"},fe={class:"font-medium text-foreground truncate"},pe={class:"text-sm text-muted-foreground truncate"},ve={class:"text-xs text-muted-foreground"},he={class:"flex items-center space-x-1 shrink-0"},Se=F({__name:"index",setup(xe){const{t:o}=I(),{categories:x,loading:U,error:g,fetchAllCategories:w,deleteCategory:V}=P(),B=N(),r=C(""),m=C("all"),k=M(()=>x.value?x.value.filter(n=>{const c=r.value?n.name.en.toLowerCase().includes(r.value.toLowerCase())||n.name.ru.toLowerCase().includes(r.value.toLowerCase())||n.slug.toLowerCase().includes(r.value.toLowerCase()):!0,d=m.value==="all"||m.value==="active"&&n.isActive||m.value==="inactive"&&!n.isActive;return c&&d}):[]),L=[{label:o("common.view_all"),value:"all"},{label:o("admin.dashboard.active"),value:"active"},{label:o("admin.dashboard.inactive"),value:"inactive"}],z=async n=>{confirm(`${o("admin.categories.confirmDelete")}

${o("admin.categories.deleteWarning")}`)&&await V(n.$id)&&B.add({title:o("admin.categories.deleted"),color:"success"})};return Q(()=>{w()}),(n,c)=>{const d=E,A=q,S=G,p=H,u=J,T=O,D=K;return _(),v("div",X,[e("div",Y,[e("h1",Z,i(t(o)("admin.categories.title")),1),a(d,{to:"/admin/categories/create",icon:"i-heroicons-plus",color:"primary",size:"sm"},{default:l(()=>[f(i(t(o)("admin.categories.add")),1)]),_:1})]),e("div",ee,[a(A,{modelValue:t(r),"onUpdate:modelValue":c[0]||(c[0]=s=>y(r)?r.value=s:null),icon:"i-heroicons-magnifying-glass",placeholder:t(o)("common.search")},null,8,["modelValue","placeholder"]),a(S,{modelValue:t(m),"onUpdate:modelValue":c[1]||(c[1]=s=>y(m)?m.value=s:null),items:L},null,8,["modelValue"])]),e("div",te,[t(U)?(_(),v(b,{key:0},$(3,s=>a(u,{key:s},{default:l(()=>[e("div",se,[a(p,{class:"w-10 h-10 rounded"}),e("div",oe,[a(p,{class:"h-4 w-3/4"}),a(p,{class:"h-3 w-1/2"})])])]),_:1})),64)):t(g)?(_(),h(u,{key:1},{default:l(()=>[e("div",ae,[e("p",ie,i(t(g)),1),a(d,{size:"sm",onClick:c[2]||(c[2]=s=>t(w)())},{default:l(()=>[f(i(t(o)("common.retry")),1)]),_:1})])]),_:1})):t(k).length?(_(!0),v(b,{key:3},$(t(k),s=>(_(),h(u,{key:s.$id,class:"cursor-pointer active:scale-[0.98] transition-transform",onClick:j=>("navigateTo"in n?n.navigateTo:t(W))(`/admin/categories/${s.$id}`)},{default:l(()=>[e("div",re,[e("div",de,[e("div",me,i(s.icon),1),e("div",_e,[e("div",ue,[e("p",fe,i(s.name.en),1),a(D,{color:s.isActive?"success":"error",variant:"soft",size:"xs"},{default:l(()=>[f(i(s.isActive?t(o)("admin.dashboard.active"):t(o)("admin.dashboard.inactive")),1)]),_:2},1032,["color"])]),e("p",pe,i(s.name.ru),1),e("code",ve,i(s.slug),1)])]),e("div",he,[a(d,{icon:"i-heroicons-trash",size:"xs",color:"error",variant:"ghost",onClick:R(j=>z(s),["stop"])},null,8,["onClick"])])])]),_:2},1032,["onClick"]))),128)):(_(),h(u,{key:2},{default:l(()=>[e("div",ne,[a(T,{name:"i-heroicons-folder",class:"mx-auto h-10 w-10 text-gray-400 mb-3"}),e("h3",ce,i(t(o)("admin.categories.empty.title")),1),e("p",le,i(t(o)("admin.categories.empty.description")),1),a(d,{to:"/admin/categories/create",color:"primary",size:"sm"},{default:l(()=>[f(i(t(o)("admin.categories.add")),1)]),_:1})])]),_:1}))])])}}});export{Se as default};
