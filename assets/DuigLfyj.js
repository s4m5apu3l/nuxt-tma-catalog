import{e as j,f as F,r as C,g as I,l as N,c as v,o as _,a as e,b as a,t as i,h as t,w as r,d as f,m as E,E as y,i as h,F as b,n as $,j as M,D as O,C as Q}from"./CGidw6B-.js";import{_ as R}from"./B6OSm-Dn.js";import{_ as W}from"./BK1w3cMd.js";import{_ as q}from"./CT5w0I_e.js";import{_ as G}from"./CXMMb_go.js";import{_ as H}from"./CKyEaWst.js";import{u as J}from"./CTynOHMU.js";import"./fDU49JJS.js";import"./BGyXkxHx.js";import"./CdOMwAip.js";import"./DHWDMrzn.js";import"./BkcUQ56Y.js";import"./Bg3rBmSY.js";const K={class:"space-y-4"},P={class:"flex items-center justify-between"},X={class:"text-xl font-bold text-gray-900 dark:text-white"},Y={class:"flex flex-col space-y-2"},Z={class:"space-y-2"},ee={class:"flex items-center space-x-3"},te={class:"flex-1 space-y-2"},se={class:"text-center py-6"},oe={class:"text-red-500 text-sm mb-3"},ae={class:"text-center py-8"},ie={class:"text-base font-medium text-gray-900 dark:text-white mb-1"},ne={class:"text-sm text-gray-500 dark:text-gray-400 mb-4"},ce={class:"flex items-center justify-between"},re={class:"flex items-center space-x-3 flex-1 min-w-0"},le={class:"text-2xl shrink-0"},de={class:"flex-1 min-w-0"},me={class:"flex items-center space-x-2"},_e={class:"font-medium text-foreground truncate"},ue={class:"text-sm text-muted-foreground truncate"},fe={class:"text-xs text-muted-foreground"},pe={class:"flex items-center space-x-1 shrink-0"},ze=j({__name:"index",setup(ve){const{t:o}=F(),{categories:x,loading:U,error:g,fetchAllCategories:w,deleteCategory:V}=J(),l=C(""),d=C("all"),k=I(()=>x.value?x.value.filter(n=>{const c=l.value?n.name.en.toLowerCase().includes(l.value.toLowerCase())||n.name.ru.toLowerCase().includes(l.value.toLowerCase())||n.slug.toLowerCase().includes(l.value.toLowerCase()):!0,m=d.value==="all"||d.value==="active"&&n.isActive||d.value==="inactive"&&!n.isActive;return c&&m}):[]),L=[{label:o("common.view_all"),value:"all"},{label:o("admin.dashboard.active"),value:"active"},{label:o("admin.dashboard.inactive"),value:"inactive"}],B=async n=>{confirm(`${o("admin.categories.confirmDelete")}

${o("admin.categories.deleteWarning")}`)&&await V(n.$id)};return N(()=>{w()}),(n,c)=>{const m=E,z=R,A=W,p=q,u=G,S=M,D=H;return _(),v("div",K,[e("div",P,[e("h1",X,i(t(o)("admin.categories.title")),1),a(m,{to:"/admin/categories/create",icon:"i-heroicons-plus",color:"primary",size:"sm"},{default:r(()=>[f(i(t(o)("admin.categories.add")),1)]),_:1})]),e("div",Y,[a(z,{modelValue:t(l),"onUpdate:modelValue":c[0]||(c[0]=s=>y(l)?l.value=s:null),icon:"i-heroicons-magnifying-glass",placeholder:t(o)("common.search")},null,8,["modelValue","placeholder"]),a(A,{modelValue:t(d),"onUpdate:modelValue":c[1]||(c[1]=s=>y(d)?d.value=s:null),items:L},null,8,["modelValue"])]),e("div",Z,[t(U)?(_(),v(b,{key:0},$(3,s=>a(u,{key:s},{default:r(()=>[e("div",ee,[a(p,{class:"w-10 h-10 rounded"}),e("div",te,[a(p,{class:"h-4 w-3/4"}),a(p,{class:"h-3 w-1/2"})])])]),_:1})),64)):t(g)?(_(),h(u,{key:1},{default:r(()=>[e("div",se,[e("p",oe,i(t(g)),1),a(m,{size:"sm",onClick:c[2]||(c[2]=s=>t(w)())},{default:r(()=>[f(i(t(o)("common.retry")),1)]),_:1})])]),_:1})):t(k).length?(_(!0),v(b,{key:3},$(t(k),s=>(_(),h(u,{key:s.$id,class:"cursor-pointer active:scale-[0.98] transition-transform",onClick:T=>("navigateTo"in n?n.navigateTo:t(Q))(`/admin/categories/${s.$id}`)},{default:r(()=>[e("div",ce,[e("div",re,[e("div",le,i(s.icon),1),e("div",de,[e("div",me,[e("p",_e,i(s.name.en),1),a(D,{color:s.isActive?"success":"error",variant:"soft",size:"xs"},{default:r(()=>[f(i(s.isActive?t(o)("admin.dashboard.active"):t(o)("admin.dashboard.inactive")),1)]),_:2},1032,["color"])]),e("p",ue,i(s.name.ru),1),e("code",fe,i(s.slug),1)])]),e("div",pe,[a(m,{icon:"i-heroicons-trash",size:"xs",color:"error",variant:"ghost",onClick:O(T=>B(s),["stop"])},null,8,["onClick"])])])]),_:2},1032,["onClick"]))),128)):(_(),h(u,{key:2},{default:r(()=>[e("div",ae,[a(S,{name:"i-heroicons-folder",class:"mx-auto h-10 w-10 text-gray-400 mb-3"}),e("h3",ie,i(t(o)("admin.categories.empty.title")),1),e("p",ne,i(t(o)("admin.categories.empty.description")),1),a(m,{to:"/admin/categories/create",color:"primary",size:"sm"},{default:r(()=>[f(i(t(o)("admin.categories.add")),1)]),_:1})])]),_:1}))])])}}});export{ze as default};
