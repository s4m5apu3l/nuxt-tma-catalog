import{e as j,f as F,r as $,g as I,l as N,c as h,o as u,a as t,b as n,t as i,h as e,w as r,d as f,m as E,E as C,i as x,F as V,n as U,j as M,D as O,C as Q}from"./CGidw6B-.js";import{_ as R}from"./B6OSm-Dn.js";import{_ as q}from"./BK1w3cMd.js";import{_ as G}from"./CT5w0I_e.js";import{_ as H}from"./CXMMb_go.js";import{_ as J}from"./CKyEaWst.js";import{f as K}from"./Cqe9Vini.js";import{u as W}from"./Xiu-_q9S.js";import"./fDU49JJS.js";import"./BGyXkxHx.js";import"./CdOMwAip.js";import"./DHWDMrzn.js";import"./BkcUQ56Y.js";import"./Bg3rBmSY.js";const X={class:"space-y-4"},Y={class:"flex items-center justify-between"},Z={class:"text-xl font-bold text-gray-900 dark:text-white"},ee={class:"flex flex-col space-y-2"},te={class:"space-y-2"},se={class:"flex items-center space-x-3"},ae={class:"flex-1 space-y-2"},oe={class:"text-center py-6"},ne={class:"text-red-500 text-sm mb-3"},ie={class:"text-center py-8"},ce={class:"text-base font-medium text-gray-900 dark:text-white mb-1"},re={class:"text-sm text-gray-500 dark:text-gray-400 mb-4"},le={class:"flex items-center space-x-3"},de={class:"w-16 h-16 bg-muted rounded-lg flex items-center justify-center shrink-0"},me={class:"flex-1 min-w-0"},ue={class:"flex items-center space-x-2"},_e={class:"font-medium text-foreground truncate"},fe={class:"text-sm text-muted-foreground"},pe={class:"text-xs text-muted-foreground"},ze=j({__name:"index",setup(ve){const{t:o,locale:p}=F(),{products:g,loading:L,error:y,fetchProducts:w,deleteProduct:P}=W(),l=$(""),m=$("all"),k=I(()=>g.value?g.value.filter(a=>{const c=l.value?a.name.en.toLowerCase().includes(l.value.toLowerCase())||a.name.ru.toLowerCase().includes(l.value.toLowerCase())||a.slug.toLowerCase().includes(l.value.toLowerCase()):!0,d=m.value==="all"||m.value==="active"&&a.isActive||m.value==="inactive"&&!a.isActive;return c&&d}):[]),B=[{label:o("common.view_all"),value:"all"},{label:o("admin.dashboard.active"),value:"active"},{label:o("admin.dashboard.inactive"),value:"inactive"}],z=async a=>{const c=p.value;confirm(`${o("admin.products.confirmDelete")}

${a.name[c]||a.name.en}`)&&await P(a.$id)};return N(()=>{w()}),(a,c)=>{const d=E,S=R,A=q,v=G,_=H,b=M,D=J;return u(),h("div",X,[t("div",Y,[t("h1",Z,i(e(o)("admin.products.title")),1),n(d,{to:"/admin/products/create",icon:"i-heroicons-plus",color:"primary",size:"sm"},{default:r(()=>[f(i(e(o)("admin.products.add")),1)]),_:1})]),t("div",ee,[n(S,{modelValue:e(l),"onUpdate:modelValue":c[0]||(c[0]=s=>C(l)?l.value=s:null),icon:"i-heroicons-magnifying-glass",placeholder:e(o)("common.search")},null,8,["modelValue","placeholder"]),n(A,{modelValue:e(m),"onUpdate:modelValue":c[1]||(c[1]=s=>C(m)?m.value=s:null),items:B},null,8,["modelValue"])]),t("div",te,[e(L)?(u(),h(V,{key:0},U(3,s=>n(_,{key:s},{default:r(()=>[t("div",se,[n(v,{class:"w-16 h-16 rounded"}),t("div",ae,[n(v,{class:"h-4 w-3/4"}),n(v,{class:"h-3 w-1/2"})])])]),_:1})),64)):e(y)?(u(),x(_,{key:1},{default:r(()=>[t("div",oe,[t("p",ne,i(e(y)),1),n(d,{size:"sm",onClick:c[2]||(c[2]=s=>e(w)())},{default:r(()=>[f(i(e(o)("common.retry")),1)]),_:1})])]),_:1})):e(k).length?(u(!0),h(V,{key:3},U(e(k),s=>(u(),x(_,{key:s.$id,class:"cursor-pointer active:scale-[0.98] transition-transform",onClick:T=>("navigateTo"in a?a.navigateTo:e(Q))(`/admin/products/${s.$id}`)},{default:r(()=>[t("div",le,[t("div",de,[n(b,{name:"i-lucide-package",class:"w-6 h-6 text-muted-foreground"})]),t("div",me,[t("div",ue,[t("p",_e,i(s.name[e(p)]||s.name.en),1),n(D,{color:s.isActive?"success":"error",variant:"soft",size:"xs"},{default:r(()=>[f(i(s.isActive?e(o)("admin.dashboard.active"):e(o)("admin.dashboard.inactive")),1)]),_:2},1032,["color"])]),t("p",fe,i(("formatPricing"in a?a.formatPricing:e(K))(s.pricing,e(p))),1),t("code",pe,i(s.slug),1)]),n(d,{icon:"i-heroicons-trash",size:"xs",color:"error",variant:"ghost",onClick:O(T=>z(s),["stop"])},null,8,["onClick"])])]),_:2},1032,["onClick"]))),128)):(u(),x(_,{key:2},{default:r(()=>[t("div",ie,[n(b,{name:"i-heroicons-cube",class:"mx-auto h-10 w-10 text-gray-400 mb-3"}),t("h3",ce,i(e(o)("admin.products.empty.title")),1),t("p",re,i(e(o)("admin.products.empty.description")),1),n(d,{to:"/admin/products/create",color:"primary",size:"sm"},{default:r(()=>[f(i(e(o)("admin.products.add")),1)]),_:1})])]),_:1}))])])}}});export{ze as default};
